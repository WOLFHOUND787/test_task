<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .hide { display: none; }
        .card { margin-bottom: 20px; }
        .shop-card { transition: transform 0.2s; cursor: pointer; }
        .shop-card:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .product-card { transition: transform 0.2s; }
        .product-card:hover { transform: translateY(-2px); }
        .navbar-brand { font-weight: bold; }
        .user-info { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .shop-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px 8px 0 0;
            margin: -15px -15px 15px -15px;
        }
        .order-item {
            border-left: 4px solid #007bff;
            padding-left: 15px;
            margin-bottom: 10px;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
        }
        .order-item.pending {
            border-left-color: #ffc107;
        }
        .order-item.completed {
            border-left-color: #28a745;
        }
        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #dc3545;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">ÔøΩÔ∏è –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</a>
            <div class="navbar-nav ms-auto">
                <button class="btn btn-outline-light me-2" onclick="showProfile()">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
                <button class="btn btn-outline-danger" onclick="logout()">üö™ –í—ã—Ö–æ–¥</button>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <div id="loginSection" class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h4 class="mb-0">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h4>
                    </div>
                    <div class="card-body">
                        <form id="loginForm">
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                                <input type="password" class="form-control" id="password" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">–í–æ–π—Ç–∏</button>
                        </form>
                        <div class="mt-3">
                            <small class="text-muted">
                                –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:<br>
                                ‚Ä¢ admin@example.com / admin123 (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)<br>
                                ‚Ä¢ manager@example.com / manager123 (–º–µ–Ω–µ–¥–∂–µ—Ä)<br>
                                ‚Ä¢ user@example.com / user123 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div id="mainSection" class="hide">
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
            <div id="userInfo" class="user-info hide">
                <h4>üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h4>
                <div id="userDetails"></div>
            </div>

            <!-- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ -->
            <div id="permissionsSection" class="card hide">
                <div class="card-header">
                    <h5 class="mb-0">üîë –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</h5>
                </div>
                <div class="card-body">
                    <div id="permissionsList"></div>
                </div>
            </div>

            <!-- –†–µ—Å—É—Ä—Å—ã -->
            <div id="resourcesSection" class="hide">
                <h4 class="mb-4">üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</h4>
                <div class="row" id="resourcesList"></div>
            </div>
        </div>

        <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
        <div id="message" class="alert hide"></div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö -->
    <div class="modal fade" id="dataModal" tabindex="-1" aria-labelledby="dataModalLabel">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="dataModalLabel">–î–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å–∞</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
                </div>
                <div class="modal-body">
                    <div id="dataModalContent"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const API_BASE = '/api';
        let accessToken = localStorage.getItem('accessToken');
        let refreshToken = localStorage.getItem('refreshToken');

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            if (accessToken) {
                checkToken();
            } else {
                showLogin();
            }
        });

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
        async function checkToken() {
            try {
                const response = await fetch(`${API_BASE}/auth/profile/`, {
                    headers: { 'Authorization': `Bearer ${accessToken}` }
                });
                
                if (response.ok) {
                    showMain();
                } else {
                    await refreshAccessToken();
                }
            } catch (error) {
                showLogin();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
        async function refreshAccessToken() {
            try {
                const response = await fetch(`${API_BASE}/auth/refresh/`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ refresh_token: refreshToken })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    accessToken = data.access_token;
                    refreshToken = data.refresh_token;
                    localStorage.setItem('accessToken', accessToken);
                    localStorage.setItem('refreshToken', refreshToken);
                    showMain();
                } else {
                    showLogin();
                }
            } catch (error) {
                showLogin();
            }
        }

        // –í—Ö–æ–¥
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            try {
                const response = await fetch(`${API_BASE}/auth/login/`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    accessToken = data.access_token;
                    refreshToken = data.refresh_token;
                    localStorage.setItem('accessToken', accessToken);
                    localStorage.setItem('refreshToken', refreshToken);
                    showMain();
                    showMessage('–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥!', 'success');
                } else {
                    showMessage(data.error || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞', 'danger');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è', 'danger');
            }
        });

        // –í—ã—Ö–æ–¥
        function logout() {
            fetch(`${API_BASE}/auth/logout/`, {
                method: 'POST',
                headers: { 'Authorization': `Bearer ${accessToken}` }
            }).finally(() => {
                localStorage.removeItem('accessToken');
                localStorage.removeItem('refreshToken');
                accessToken = null;
                refreshToken = null;
                showLogin();
                showMessage('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'info');
            });
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
        async function showMain() {
            document.getElementById('loginSection').classList.add('hide');
            document.getElementById('mainSection').classList.remove('hide');
            document.getElementById('logoutBtn').classList.remove('hide');
            
            await loadUserInfo();
            await loadPermissions();
            await loadResources();
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞
        function showLogin() {
            document.getElementById('loginSection').classList.remove('hide');
            document.getElementById('mainSection').classList.add('hide');
            document.getElementById('logoutBtn').classList.add('hide');
            document.getElementById('userEmail').textContent = '';
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
        async function loadUserInfo() {
            try {
                const response = await fetch(`${API_BASE}/auth/profile/`, {
                    headers: { 'Authorization': `Bearer ${accessToken}` }
                });
                
                if (response.ok) {
                    const user = await response.json();
                    document.getElementById('userEmail').textContent = user.email;
                    
                    const userInfo = document.getElementById('userInfo');
                    userInfo.classList.remove('hide');
                    document.getElementById('userDetails').innerHTML = `
                        <div class="row">
                            <div class="col-md-6">
                                <strong>–ò–º—è:</strong> ${user.full_name}<br>
                                <strong>Email:</strong> ${user.email}<br>
                                <strong>–†–æ–ª–∏:</strong> ${user.roles.map(r => r.name).join(', ')}
                            </div>
                            <div class="col-md-6">
                                <strong>ID:</strong> ${user.id}<br>
                                <strong>–ê–∫—Ç–∏–≤–µ–Ω:</strong> ${user.is_active ? '–î–∞' : '–ù–µ—Ç'}<br>
                                <strong>–°–æ–∑–¥–∞–Ω:</strong> ${new Date(user.created_at).toLocaleDateString('ru-RU')}
                            </div>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
        async function loadPermissions() {
            try {
                const response = await fetch(`${API_BASE}/auth/permissions/`, {
                    headers: { 'Authorization': `Bearer ${accessToken}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const permissionsList = document.getElementById('permissionsList');
                    
                    let html = '';
                    for (const [resource, perms] of Object.entries(data.permissions)) {
                        const activePerms = Object.entries(perms)
                            .filter(([key, value]) => value)
                            .map(([key]) => {
                                const labels = {
                                    'read': '—á—Ç–µ–Ω–∏–µ',
                                    'read_all': '—á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö',
                                    'create': '—Å–æ–∑–¥–∞–Ω–∏–µ',
                                    'update': '–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ',
                                    'update_all': '–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö',
                                    'delete': '—É–¥–∞–ª–µ–Ω–∏–µ',
                                    'delete_all': '—É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö'
                                };
                                return `<span class="badge bg-success permission-badge">${labels[key] || key}</span>`;
                            });
                        
                        const hasAccess = activePerms.length > 0;
                        html += `
                            <div class="permission-item ${hasAccess ? 'has-access' : 'no-access'}">
                                <div class="d-flex justify-content-between align-items-center">
                                    <strong>${resource}</strong>
                                    <span class="badge bg-${hasAccess ? 'success' : 'danger'}">
                                        ${hasAccess ? '‚úÖ –î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω' : '‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω'}
                                    </span>
                                </div>
                                ${activePerms.length > 0 ? `<div class="mt-2">${activePerms.join(' ')}</div>` : ''}
                            </div>
                        `;
                    }
                    
                    permissionsList.innerHTML = html || '<p>–ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞</p>';
                    document.getElementById('permissionsSection').classList.remove('hide');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∞–≤:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
        async function loadResources() {
            const resources = [
                { name: '–ü—Ä–æ–¥—É–∫—Ç—ã', endpoint: 'products', icon: 'üì¶' },
                { name: '–ó–∞–∫–∞–∑—ã', endpoint: 'orders', icon: 'üõí' },
                { name: '–ú–∞–≥–∞–∑–∏–Ω—ã', endpoint: 'shops', icon: 'üè™' },
                { name: '–û—Ç—á–µ—Ç—ã', endpoint: 'reports', icon: 'üìà' },
                { name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏', endpoint: 'users', icon: 'üë•' }
            ];
            
            const resourcesList = document.getElementById('resourcesList');
            let html = '';
            
            for (const resource of resources) {
                try {
                    const response = await fetch(`${API_BASE}/business/${resource.endpoint}/`, {
                        headers: { 'Authorization': `Bearer ${accessToken}` }
                    });
                    
                    const statusClass = response.ok ? 'success' : 'danger';
                    const statusText = response.ok ? '–î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω' : '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω';
                    const statusIcon = response.ok ? '‚úÖ' : '‚ùå';
                    
                    html += `
                        <div class="col-md-6 col-lg-4 mb-3">
                            <div class="card resource-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title">${resource.icon} ${resource.name}</h5>
                                    <p class="card-text">
                                        <span class="badge bg-${statusClass}">${statusIcon} ${statusText}</span>
                                    </p>
                                    ${response.ok ? `<button class="btn btn-sm btn-outline-primary" onclick="loadResourceData('${resource.endpoint}', '${resource.name}')">–ü–æ–∫–∞–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ</button>` : ''}
                                </div>
                            </div>
                        </div>
                    `;
                } catch (error) {
                    html += `
                        <div class="col-md-6 col-lg-4 mb-3">
                            <div class="card resource-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title">${resource.icon} ${resource.name}</h5>
                                    <p class="card-text">
                                        <span class="badge bg-warning">‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    `;
                }
            }
            
            resourcesList.innerHTML = html;
            document.getElementById('resourcesSection').classList.remove('hide');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–∞
        async function loadResourceData(endpoint, resourceName) {
            try {
                const response = await fetch(`${API_BASE}/business/${endpoint}/`, {
                    headers: { 'Authorization': `Bearer ${accessToken}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    displayResourceData(resourceName, data);
                } else {
                    showMessage('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö', 'danger');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è', 'danger');
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        function displayResourceData(resourceName, data) {
            const modalTitle = document.getElementById('dataModalLabel');
            const modalContent = document.getElementById('dataModalContent');
            
            modalTitle.textContent = `–î–∞–Ω–Ω—ã–µ: ${resourceName}`;
            
            let html = '';
            
            if (resourceName === '–û—Ç—á–µ—Ç—ã') {
                html = `
                    <div class="resource-data">
                        <p><strong>–°–æ–æ–±—â–µ–Ω–∏–µ:</strong> ${data.message}</p>
                        <p><strong>–î–æ—Å—Ç—É–ø–Ω—ã–µ –æ—Ç—á–µ—Ç—ã:</strong></p>
                        <ul>
                            ${data.available_reports.map(report => `<li>${report}</li>`).join('')}
                        </ul>
                        <p><strong>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω:</strong> ${new Date(data.generated_at).toLocaleString('ru-RU')}</p>
                    </div>
                `;
            } else if (data.products) {
                html = `
                    <div class="resource-data">
                        <h6>–ü—Ä–æ–¥—É–∫—Ç—ã (${data.products.length}):</h6>
                        ${data.products.map(product => `
                            <div class="card mb-2">
                                <div class="card-body">
                                    <h6 class="card-title">${product.name}</h6>
                                    <p class="card-text">
                                        <strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${product.description}<br>
                                        <strong>–¶–µ–Ω–∞:</strong> $${product.price}<br>
                                        <strong>ID:</strong> ${product.id}<br>
                                        <strong>–í–ª–∞–¥–µ–ª–µ—Ü:</strong> ${product.owner_id || '–ü—É–±–ª–∏—á–Ω—ã–π'}<br>
                                        <strong>–°–æ–∑–¥–∞–Ω:</strong> ${new Date(product.created_at).toLocaleString('ru-RU')}
                                    </p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else if (data.orders) {
                html = `
                    <div class="resource-data">
                        <h6>–ó–∞–∫–∞–∑—ã (${data.orders.length}):</h6>
                        ${data.orders.map(order => `
                            <div class="card mb-2">
                                <div class="card-body">
                                    <h6 class="card-title">${order.product_name}</h6>
                                    <p class="card-text">
                                        <strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</strong> ${order.quantity}<br>
                                        <strong>–û–±—â–∞—è —Ü–µ–Ω–∞:</strong> $${order.total_price}<br>
                                        <strong>–°—Ç–∞—Ç—É—Å:</strong> ${order.status}<br>
                                        <strong>ID:</strong> ${order.id}<br>
                                        <strong>–í–ª–∞–¥–µ–ª–µ—Ü:</strong> ${order.owner_id || '–ü—É–±–ª–∏—á–Ω—ã–π'}<br>
                                        <strong>–°–æ–∑–¥–∞–Ω:</strong> ${new Date(order.created_at).toLocaleString('ru-RU')}
                                    </p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else if (data.shops) {
                html = `
                    <div class="resource-data">
                        <h6>–ú–∞–≥–∞–∑–∏–Ω—ã (${data.shops.length}):</h6>
                        ${data.shops.map(shop => `
                            <div class="card mb-2">
                                <div class="card-body">
                                    <h6 class="card-title">${shop.name}</h6>
                                    <p class="card-text">
                                        <strong>–ê–¥—Ä–µ—Å:</strong> ${shop.address}<br>
                                        <strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${shop.phone}<br>
                                        <strong>ID:</strong> ${shop.id}<br>
                                        <strong>–í–ª–∞–¥–µ–ª–µ—Ü:</strong> ${shop.owner_id || '–ü—É–±–ª–∏—á–Ω—ã–π'}<br>
                                        <strong>–°–æ–∑–¥–∞–Ω:</strong> ${new Date(shop.created_at).toLocaleString('ru-RU')}
                                    </p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else if (data.users) {
                html = `
                    <div class="resource-data">
                        <h6>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (${data.users.length}):</h6>
                        ${data.users.map(user => `
                            <div class="card mb-2">
                                <div class="card-body">
                                    <h6 class="card-title">${user.full_name}</h6>
                                    <p class="card-text">
                                        <strong>Email:</strong> ${user.email}<br>
                                        <strong>ID:</strong> ${user.id}<br>
                                        <strong>–°–æ–∑–¥–∞–Ω:</strong> ${new Date(user.created_at).toLocaleString('ru-RU')}
                                    </p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else {
                html = `
                    <div class="resource-data">
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    </div>
                `;
            }
            
            modalContent.innerHTML = html;
            
            const modal = new bootstrap.Modal(document.getElementById('dataModal'));
            modal.show();
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        function showMessage(message, type) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = message;
            messageEl.className = `alert alert-${type}`;
            messageEl.classList.remove('hide');
            
            setTimeout(() => {
                messageEl.classList.add('hide');
            }, 5000);
        }
    </script>
</body>
</html>
